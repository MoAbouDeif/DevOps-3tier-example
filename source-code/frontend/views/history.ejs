<%- include('partials/header', { title: title, currentPage: currentPage }) %>

        <!-- History Tab -->
        <% if (typeof message !== 'undefined' && message) { %>
            <div class="response success">
                <i class="fas fa-check-circle me-2"></i>
                <%= message %>
            </div>
        <% } %>
        
        <% if (typeof error !== 'undefined' && error) { %>
            <div class="response error">
                <i class="fas fa-exclamation-circle me-2"></i>
                <%= error %>
            </div>
        <% } %>
        
        <div class="history-grid" id="historyGrid">
            <% if (history && history.length > 0) { %>
                <% history.forEach(item => { %>
                    <div class="history-item">
                        <div class="history-operation"><%= item.operation.toUpperCase() %> Operation</div>
                        <div class="history-numbers"><%= item.operand1 %> <%= getOperationSymbol(item.operation) %> <%= item.operand2 %></div>
                        <div class="history-result">= <%= item.result %></div>
                        <div class="history-date">
                            <i class="fas fa-clock"></i> 
                            Calculated on: <%= new Date(item.created_at).toLocaleString() %>
                        </div>
                        <form action="/calculation/<%= item.id %>/delete" method="POST" class="delete-form">
                            <button type="submit" class="delete-btn">
                                <i class="fas fa-trash"></i>
                            </button>
                        </form>
                    </div>
                <% }) %>
            <% } else { %>
                <div class="empty-state">
                    <i class="fas fa-history"></i>
                    <h3>No calculation history yet</h3>
                    <p>Perform some calculations to see them here</p>
                </div>
            <% } %>
        </div>

<%- include('partials/footer') %>